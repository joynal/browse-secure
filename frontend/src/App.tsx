import React, {useEffect, useState} from "react";
import JsonView from '@uiw/react-json-view';

import {getBrowserFingerprint, BrowserFingerprint} from "./fingerprint";

const App = () => {
    const [fingerprint, setFingerprint] = useState<null | BrowserFingerprint>(null);

    useEffect(() => {
        const fetchData = async () => {
            try {
                const fingerprintData = await getBrowserFingerprint();
                setFingerprint(fingerprintData);
            } catch (error) {
                console.error('Error fetching fingerprint:', error);
            }
        };

        fetchData();
    }, []);


    return (
        <div style={{width: '40%', margin: 'auto'}}>
            <h1>You have been pwned! <span role="img" aria-label="Funny face">ЁЯШЕ</span></h1>
            <h4><b style={{color: '#cb4b16'}}>35078</b> people clicked this link</h4>
            <p>ржлрзЛржирзЗ ржпрзЗржХрзЛржи ржЕрзНржпрж╛ржк ржЗржирзНрж╕ржЯрж▓ ржХрж░рж╛рж░ рж╕ржорзЯ ржпрж╛ ржкрж╛рж░ржорж┐рж╢ржи ржЪрж╛рзЯ ржжрж┐рзЯрзЗ ржжрзЗржи, ржПржЗржмрж╛рж░ рж╕рзЗржЗ ржЕрзНржпрж╛ржк рж╕рзБржирзНржжрж░ ржХрж░рзЗ ржЖржкржирж╛рж░ ржпржд ржбрж╛ржЯрж╛ ржЖржЫрзЗ рж╕ржм
                рждрж╛ржжрзЗрж░ рж╕рж╛рж░рзНржнрж╛рж░рзЗ ржкрж╛ржарж┐рзЯрзЗ ржжрж┐ржмрзЗред ржХрзЗржоржирзЗ, ржХрзЛржи рж╕ржорзЯ ржжрж┐ржмрзЗ рж╕рзЗржЯрж╛ ржЖржкржирж┐ ржЯрзЗрж░ржУ ржкрж╛ржмрзЗржи ржирж╛ред ржЖржорж╛ржжрзЗрж░ ржжрзЗрж╢рзЗрж░ ржЬржиржкрзНрж░рж┐рзЯ рж░рж╛ржЗржб
                рж╢рзЗрзЯрж╛рж░рж┐ржВ ржЕрзНржпрж╛ржк ржПржЗ ржПржХржЗ ржХрж╛ржЬржЯрж╛ ржХрж░ржЫрзЗ, ржмрзНржпрж╛ржмрж╣рж╛рж░ржХрж╛рж░рж┐рж░ ржмрзНржпрж╛ржХрзНрждрж┐ржЧржд ржорзЗрж╕рзЗржЬ, ржХрж▓рж╣рж┐рж╕рзНржЯрзНрж░рж┐, ржХржирзНржЯрж╛ржХрзНржЯ ржирж╛ржорзНржмрж╛рж░ рж╕ржм ржирж┐рзЯрзЗ
                ржирж┐рж╕рзЗред ржПржЦржи ржПржЗ ржбрж╛ржЯрж╛ ржпрж╛рж░рж╛ ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржХрж░рждрзЗ ржкрж╛рж░ржд рждрж╛рж░рж╛ ржПржЗрж╕ржм ржЬрж┐ржирж┐рж╕ ржкрзЬржд, ржзрж░рзЗржи рждрж╛ржжрзЗрж░ ржХрж▓рж┐ржЧ ржХрждржЯрж╛ржХрж╛ рж╕рзНржпрж╛рж▓рж╛рж░рж┐ ржкрж╛рзЯ ржПржЗржЯрж╛
                ржмрзНржпрж╛ржВржХрзЗрж░ ржкрж╛ржарж╛ржирзЛ ржорзЗрж╕рзЗржЬ ржжрзЗржЦрзЗржЗ ржмрзБржЭрж╛ ржлрзЗрж▓рж╛ ржпрж╛рзЯред ржлрзНрж░рж┐рждрзЗ ржорзБржнрж┐ ржжрзЗржЦрж╛рж░ ржЬржирзНржп ржЕрзНржпрж╛ржк ржЗржирзНрж╕ржЯрж▓ ржХрж░ржЫрзЗржи, рж╕рзЗржЗ ржЕрзНржпрж╛ржк ржХрж╛рж░рж╛
                ржмрж╛ржирж╛ржЗрж╕рзЗ рждрж╛ржжрзЗрж░ ржкрж▓рж┐рж╕рж┐ ржХрж┐ ржХрж┐ржЫрзБржЗ ржЬрж╛ржирзЗржиржирж╛ ржЖржкржирж╛рж░ ржмрзНржпрж╛ржХрзНржЯрж┐ржЧржд рж╕ржмржХрж┐ржЫрзБ ржХржорзНржкрзНрж░ржорж╛ржЗржЬ рж╣рзЯрзЗ ржпрзЗрждрзЗ ржкрж╛рж░рзЗред ржЖржкржирж╛рж░ ржмрзНржпрж╛ржХрзНрждрж┐ржЧржд
                ржбрж╛ржЯрж╛ ржХрж╛рж▓рзЗржХрзНржЯ ржХрж░рзЗ ржмрж┐ржнрж┐ржирзНржи ржХрзЛржорзНржкржирж┐рж░ ржХрж╛ржЫрзЗ рж╕рзЗрж▓ ржХрж░ржмрзЗ, ржУржЗрж╕ржм ржХрзЛржорзНржкрж╛ржирж┐ ржЖржкржирж╛рж░ ржХрж╛ржЫрзЗ ржмрж┐ржнрж┐ржирзНржи ржХрж┐ржЫрзБ ржмрж┐ржХрзНрж░рж┐рж░ ржЬржирзНржп
                ржПрж▓рж╛ржХрж╛ ржнрж┐рждрзНрждрж┐ржХ ржорж╛рж░рзНржХрзЗржЯрж┐ржВ ржХрж░ржмрзЗред ржПржЦржи ржЖржкржирж┐ ржмрж▓рждрзЗ ржкрж╛рж░рзЗржи ржЖржорж┐ ржпржжрзБ-ржоржжрзБ ржЖржорж╛рж░ ржЬрж┐ржирж┐рж╕ ржкрждрзНрж░ ржЧрзЗрж▓рзЗржЗ ржХрж┐ ржЖрж░ ржирж╛ ржЧрзЗрж▓рзЗржЗ ржХрж┐,
                ржЖржорж╛рж░ ржХрж┐ ржжрзБржЗ ржкрзЯрж╕рж╛ рж▓рж╕ рж╣ржЗрждрж╛ржЫрзЗ? рж▓рж╛ржн-рж▓рж╕ ржЬрж╛ржирж┐ржирж╛ ржХрж┐ржирзНрждрзБ ржоржЬрж╛ржЯрж╛ ржарж┐ржХржЗ ржЯрзЗрж░ ржкрж╛ржмрзЗржи ржпржЦржи ржжрзЗржЦржмрзЗржи ржЖржкржирж╛рж░ ржмржл/ржЧржл ржХрзЗ ржкрж╛ржарж╛ржирзЛрж░
                ржЬржирзНржп ржЖржкржирж╛рж░ ржирзБржб ржкрзБрж░рж╛ ржЗржирзНржЯрж╛рж░ржирзЗржЯ ржЬрзБрзЬрзЗ ржнрж╛ржЗрж░рж╛рж▓ рж╣рзЯрзЗ ржЧрзЗржЫрзЗред ржПржЦржи ржПржЗ ржирзБржб ржЖржкржирж┐ ржЖржЧрзЗ рждрзБрж▓рзЗ рж░рж╛ржЦрждрзЗ ржкрж╛рж░рзЗржи ржЕржержмрж╛ ржПржЗрж╕ржм ржЕрзНржпрж╛ржк
                ржЖржкржирж╛рж░ ржЕржЬрж╛ржирзНрждрзЗржЗ ржЖржкржирж╛рж░ ржЫржмрж┐ рждрзБрж▓рзЗ ржлрзЗрж▓рждрзЗ ржкрж╛рж░рзЗред ржЖржкржирж╛рж░ ржмрзНржпрж╛ржХрзНрждрж┐ржЧржд ржбрж╛ржЯрж╛ рж╢рждржнрж╛ржмрзЗ ржЫрзБрж░рж┐ рж╣рждрзЗ ржкрж╛рж░рзЗ ржПржмржВ ржПржЗржЧрзБрж▓рж╛ ржерзЗржХрзЗ
                ржирж┐ржЬрзЗржХрзЗ ржирж┐рж░рж╛ржкржж рж░рж╛ржЦрж╛рж░ ржПржХржорж╛рждрзНрж░ ржЙржкрж╛рзЯ рж╣ржЪрзНржЫрзЗ ржПржЗрж╕ржм ржирж┐рзЯрзЗ ржЬрж╛ржирж╛ ржПржмржВ рж╕ржЪрзЗрждржирждрж╛ ржмрж╛рзЬрж╛ржирзЛред

                рж╕рж╛ржЗржмрж╛рж░ ржирж┐рж░рж╛ржкрждрзНрждрж╛ рж╕ржЪрзЗрждржирждрж╛ ржирж┐рзЯрзЗ ржЖржорж┐ ржХрж┐ржЫрзБ рж▓рж┐ржЦрж╛ ржкрж╛ржмрж▓рж┐рж╢ ржХрж░ржм, ржПржЗрж╕ржм ржмрж┐рж╖рзЯ ржирж┐рзЯрзЗ рж╢рж┐ржЦрждрзЗ ржмрж╛ ржЬрж╛ржирждрзЗ ржЪрж╛ржЗрж▓рзЗ ржЖржорж╛ржХрзЗ ржлрж▓рзЛ
                ржжрж┐рзЯрзЗ рж░рж╛ржЦрждрзЗ ржкрж╛рж░рзЗржиред
            </p>
            {fingerprint && <JsonView value={fingerprint} displayDataTypes={false} displayObjectSize={false}
                                      enableClipboard={false} highlightUpdates={false}/>}
        </div>
    );
}

export default App;
